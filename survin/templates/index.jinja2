<!DOCTYPE html>
<html>

<head>
    <title>Videos</title>
    <link rel="stylesheet" href="static/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.12"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/themes/light.css" />
    <script type="module" src="https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.15.1/cdn/shoelace.js"></script>
</head>

<body>

    <sl-tab-group class="navigation-bar">
        <sl-tab slot="nav" panel="detected">Objects detected</sl-tab>
        <sl-tab slot="nav" panel="not-detected">Nothing detected</sl-tab>
        <sl-tab slot="nav" panel="new-videos">New videos</sl-tab>

        <sl-tab-panel name="detected">
            <div class="video-container">
                {% for video in detectedfiles %}
                <div class="video-item">
                    <div class="file-source">
                        {{video.source}}
                    </div>
                    <div class="file-timestamp">
                        {{video.timestamp}}
                    </div>
                    <div class="classifications">
                        Objects detected: {{", ".join(video.classifications)}}
                    </div>
                    <div>
                        <img class="video" src="snapshot/{{video.guid}}" hx-get="videoplayer/{{video.guid}}"
                            hx-swap="outerHTML" />
                    </div>
                </div>
                {% endfor %}
            </div>
        </sl-tab-panel>

        <sl-tab-panel name="not-detected">
            <div class="video-container">
                {% for video in notdetectedfiles %}
                <div class="video-item">
                    <div class="file-source">
                        {{video.source}}
                    </div>
                    <div class="file-timestamp">
                        {{video.timestamp}}
                    </div>
                    <div>
                        <img class="video" src="snapshot/{{video.guid}}" hx-get="videoplayer/{{video.guid}}"
                            hx-swap="outerHTML" />
                    </div>
                </div>
                {% endfor %}
            </div>
        </sl-tab-panel>

        <sl-tab-panel name="new-videos">
            <div class="video-container">
                {% for video in newfiles %}
                <div class="video-item">
                    <div class="file-source">
                        {{video.source}}
                    </div>
                    <div class="file-timestamp">
                        {{video.timestamp}}
                    </div>
                    <div>
                        <img class="video" src="snapshot/{{video.guid}}" hx-get="videoplayer/{{video.guid}}"
                            hx-swap="outerHTML" />
                    </div>
                </div>
                {% endfor %}
            </div>
        </sl-tab-panel>

    </sl-tab-group>

</body>
